import pytest
import tweepy
import random
from twippy import got_tweet

def open_tweepy(consumer_token, consumer_secret, access_token, access_token_secret):
   try:
      auth = tweepy.OAuthHandler(consumer_token, consumer_secret)
      auth.set_access_token(access_token, access_token_secret)
      api = tweepy.API(auth)

      print(api.me())
      return 1
   except tweepy.TweepError as e:
      print(e)
      return 0

def test_tweepy():
   #Invalid tweet
    assert open_tweepy("INVALID", "INVALID", "INVALID", "INVALID") == 0
    #Valid tweet
    consumer_token = 'XWYNu0pXy3FujGTFs5Zz2sI3w'
    consumer_secret = 'u4lOvuenKT5rM5fvadgbe9MmRwUTK6NIcf6ZaB1HCRBKYX3lkB'
    access_token = '1245747355397349386-jnDu79yI1J9UEKcFTaG1xV5HcvdZPo'
    access_token_secret = 'nK1S3NvBI0Ki5bvKDpeZci2y5A3rk0hsimOcgrS5YyGki'
    assert open_tweepy(consumer_token, consumer_secret, access_token, access_token_secret) == 1

def test_fake_tweets():
   test_tweets = ["McDonald's is sooo tasty!", "I freaking hate Chipotle!", "No one here really thinks badly of Microsoft", "Fedex is te wey bruddah *clicking intensifies*", "I love Disney!!!!!", "Google hates me, and I hate Google", "Elon Musk is doing a great job at Tesla", "Mark Zuckerberg's Facebook is horrible", "Amazon's customer service is stellar!"]

   r = random.Random()

   tested_tweets = []
   for tweet in test_tweets:
      let tested = got_tweet(r.randrange(1,4294967295), tweet       , r.randrange(1,4294967295))
   assert got_tweet(r.randrange(1,4294967295), test_tweet_1, r.randrange(1,4294967295)) == "McDonald's" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_2, r.randrange(1,4294967295)) == "Chipotle" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_3, r.randrange(1,4294967295)) == "Microsoft" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "Fedex" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_5, r.randrange(1,4294967295)) == "Disney" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_6, r.randrange(1,4294967295)) == "Google" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_7, r.randrange(1,4294967295)) == "Tesla" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_8, r.randrange(1,4294967295)) == "Facebook" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"
   assert got_tweet(r.randrange(1,4294967295), test_tweet_9, r.randrange(1,4294967295)) == "Amazon" or got_tweet(r.randrange(1,4294967295), test_tweet_4, r.randrange(1,4294967295)) == "No sentiment value"

def test_sentiment_values():
   
